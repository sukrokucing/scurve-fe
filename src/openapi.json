{
    "components": {
        "schemas": {
            "ActualPoint": {
                "properties": {
                    "actual": {
                        "format": "int32",
                        "type": "integer"
                    },
                    "date": {
                        "type": "string"
                    }
                },
                "required": [
                    "date",
                    "actual"
                ],
                "type": "object"
            },
            "AssignPermissionToRoleRequest": {
                "properties": {
                    "permission_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "permission_id"
                ],
                "type": "object"
            },
            "AssignRoleRequest": {
                "properties": {
                    "role_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "role_id"
                ],
                "type": "object"
            },
            "AuditLogEntry": {
                "description": "A single audit log entry",
                "properties": {
                    "action": {
                        "description": "Action/event name (e.g., \"role.assign\", \"permission.grant\")",
                        "type": "string"
                    },
                    "actor_id": {
                        "description": "ID of the user who performed the action",
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "actor_name": {
                        "description": "Display name of the actor",
                        "nullable": true,
                        "type": "string"
                    },
                    "created_at": {
                        "description": "When the action occurred",
                        "format": "date-time",
                        "type": "string"
                    },
                    "details": {
                        "description": "Action-specific metadata (role_id, permission_id, etc.)",
                        "type": "object"
                    },
                    "id": {
                        "type": "string"
                    },
                    "target_user_id": {
                        "description": "ID of the target user (if applicable)",
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "target_user_name": {
                        "description": "Display name of the target user",
                        "nullable": true,
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "action",
                    "details",
                    "created_at"
                ],
                "type": "object"
            },
            "AuthResponse": {
                "properties": {
                    "token": {
                        "type": "string"
                    },
                    "user": {
                        "$ref": "#/components/schemas/User"
                    }
                },
                "required": [
                    "token",
                    "user"
                ],
                "type": "object"
            },
            "CreateUserRequest": {
                "properties": {
                    "email": {
                        "example": "newadmin@example.com",
                        "type": "string"
                    },
                    "name": {
                        "example": "New Admin",
                        "type": "string"
                    },
                    "password": {
                        "example": "SecureP@ss123",
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "password"
                ],
                "type": "object"
            },
            "CriticalPathResponse": {
                "properties": {
                    "task_ids": {
                        "items": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "type": "array"
                    }
                },
                "required": [
                    "task_ids"
                ],
                "type": "object"
            },
            "DashboardResponse": {
                "properties": {
                    "actual": {
                        "items": {
                            "$ref": "#/components/schemas/ActualPoint"
                        },
                        "type": "array"
                    },
                    "plan": {
                        "items": {
                            "$ref": "#/components/schemas/ProjectPlanPoint"
                        },
                        "type": "array"
                    },
                    "project": {
                        "$ref": "#/components/schemas/Project"
                    }
                },
                "required": [
                    "project",
                    "plan",
                    "actual"
                ],
                "type": "object"
            },
            "DeletedResponse": {
                "properties": {
                    "message": {
                        "type": "string"
                    }
                },
                "required": [
                    "message"
                ],
                "type": "object"
            },
            "DependencyCreateRequest": {
                "properties": {
                    "source_task_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "target_task_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "type_": {
                        "type": "string"
                    }
                },
                "required": [
                    "source_task_id",
                    "target_task_id"
                ],
                "type": "object"
            },
            "EffectivePermission": {
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "role_name": {
                        "description": "Name of the role if source is \"role\"",
                        "nullable": true,
                        "type": "string"
                    },
                    "scope": {
                        "type": "object"
                    },
                    "source": {
                        "description": "Source of the permission: \"role\" or \"direct\"",
                        "example": "role",
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "source"
                ],
                "type": "object"
            },
            "EffectivePermissions": {
                "properties": {
                    "permissions": {
                        "items": {
                            "$ref": "#/components/schemas/EffectivePermission"
                        },
                        "type": "array"
                    },
                    "roles": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "user_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "user_id",
                    "roles",
                    "permissions"
                ],
                "type": "object"
            },
            "ForgotPasswordRequest": {
                "properties": {
                    "email": {
                        "example": "user@example.com",
                        "type": "string"
                    }
                },
                "required": [
                    "email"
                ],
                "type": "object"
            },
            "GrantPermissionRequest": {
                "properties": {
                    "permission_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "scope": {
                        "description": "Optional scope JSON, e.g. {\"project_id\": \"...\"}",
                        "type": "object"
                    }
                },
                "required": [
                    "permission_id"
                ],
                "type": "object"
            },
            "HealthResponse": {
                "properties": {
                    "db_error": {
                        "nullable": true,
                        "type": "string"
                    },
                    "db_ok": {
                        "type": "boolean"
                    },
                    "status": {
                        "type": "string"
                    }
                },
                "required": [
                    "status",
                    "db_ok"
                ],
                "type": "object"
            },
            "LoginRequest": {
                "properties": {
                    "email": {
                        "example": "ada@example.com",
                        "type": "string"
                    },
                    "password": {
                        "example": "S3cureP@ssw0rd",
                        "type": "string"
                    }
                },
                "required": [
                    "email",
                    "password"
                ],
                "type": "object"
            },
            "MessageResponse": {
                "properties": {
                    "message": {
                        "type": "string"
                    }
                },
                "required": [
                    "message"
                ],
                "type": "object"
            },
            "PaginatedAuditLogs": {
                "description": "Paginated response for audit logs",
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/AuditLogEntry"
                        },
                        "type": "array"
                    },
                    "page": {
                        "format": "int64",
                        "type": "integer"
                    },
                    "per_page": {
                        "format": "int64",
                        "type": "integer"
                    },
                    "total": {
                        "format": "int64",
                        "type": "integer"
                    }
                },
                "required": [
                    "items",
                    "total",
                    "page",
                    "per_page"
                ],
                "type": "object"
            },
            "Permission": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "description": {
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "name",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "PermissionCreateRequest": {
                "properties": {
                    "description": {
                        "example": "Archive completed projects",
                        "nullable": true,
                        "type": "string"
                    },
                    "name": {
                        "example": "project.archive",
                        "type": "string"
                    }
                },
                "required": [
                    "name"
                ],
                "type": "object"
            },
            "Progress": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "deleted_at": {
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "note": {
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "format": "int32",
                        "type": "integer"
                    },
                    "project_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "task_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "project_id",
                    "task_id",
                    "progress",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "ProgressCreateRequest": {
                "properties": {
                    "note": {
                        "example": "Halfway done - waiting on review",
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "example": 75,
                        "format": "int32",
                        "type": "integer"
                    }
                },
                "required": [
                    "progress"
                ],
                "type": "object"
            },
            "ProgressUpdateRequest": {
                "properties": {
                    "note": {
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "format": "int32",
                        "nullable": true,
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "Project": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "deleted_at": {
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "description": {
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "theme_color": {
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "user_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "user_id",
                    "name",
                    "theme_color",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "ProjectCreateRequest": {
                "properties": {
                    "description": {
                        "example": "Prepare milestones for the product launch.",
                        "nullable": true,
                        "type": "string"
                    },
                    "name": {
                        "example": "Launch Planning",
                        "type": "string"
                    },
                    "theme_color": {
                        "example": "#3498db",
                        "nullable": true,
                        "type": "string"
                    }
                },
                "required": [
                    "name"
                ],
                "type": "object"
            },
            "ProjectPlanCreateRequest": {
                "properties": {
                    "date": {
                        "example": "2025-12-01T00:00:00Z",
                        "format": "date-time",
                        "type": "string"
                    },
                    "planned_progress": {
                        "example": 10,
                        "format": "int32",
                        "type": "integer"
                    }
                },
                "required": [
                    "date",
                    "planned_progress"
                ],
                "type": "object"
            },
            "ProjectPlanPoint": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "date": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "planned_progress": {
                        "format": "int32",
                        "type": "integer"
                    },
                    "project_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "project_id",
                    "date",
                    "planned_progress",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "ProjectUpdateRequest": {
                "properties": {
                    "description": {
                        "example": "Updated description",
                        "nullable": true,
                        "type": "string"
                    },
                    "name": {
                        "example": "Launch Planning",
                        "nullable": true,
                        "type": "string"
                    },
                    "theme_color": {
                        "example": "#2ecc71",
                        "nullable": true,
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "RegisterRequest": {
                "properties": {
                    "email": {
                        "example": "ada@example.com",
                        "type": "string"
                    },
                    "name": {
                        "example": "Ada Lovelace",
                        "type": "string"
                    },
                    "password": {
                        "example": "S3cureP@ssw0rd",
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "password"
                ],
                "type": "object"
            },
            "ResetPasswordRequest": {
                "properties": {
                    "new_password": {
                        "example": "NewSecureP@ss456",
                        "type": "string"
                    },
                    "token": {
                        "example": "abc123token",
                        "type": "string"
                    }
                },
                "required": [
                    "token",
                    "new_password"
                ],
                "type": "object"
            },
            "Role": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "description": {
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "name",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "RoleCreateRequest": {
                "properties": {
                    "description": {
                        "example": "Can manage all aspects of projects",
                        "nullable": true,
                        "type": "string"
                    },
                    "name": {
                        "example": "project_admin",
                        "type": "string"
                    }
                },
                "required": [
                    "name"
                ],
                "type": "object"
            },
            "RolePermission": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "permission_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "role_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "role_id",
                    "permission_id",
                    "created_at"
                ],
                "type": "object"
            },
            "Task": {
                "properties": {
                    "assignee": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "deleted_at": {
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "due_date": {
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "duration_days": {
                        "format": "int32",
                        "nullable": true,
                        "type": "integer"
                    },
                    "end_date": {
                        "example": "2025-10-15T17:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "parent_id": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "format": "int32",
                        "type": "integer"
                    },
                    "project_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "start_date": {
                        "example": "2025-10-01T09:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    },
                    "title": {
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "project_id",
                    "title",
                    "status",
                    "progress",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "TaskBatchUpdatePayload": {
                "properties": {
                    "tasks": {
                        "items": {
                            "$ref": "#/components/schemas/TaskBatchUpdateRequest"
                        },
                        "type": "array"
                    }
                },
                "required": [
                    "tasks"
                ],
                "type": "object"
            },
            "TaskBatchUpdateRequest": {
                "properties": {
                    "assignee": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "due_date": {
                        "example": "2025-11-01T10:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "end_date": {
                        "example": "2025-10-15T17:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "parent_id": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "format": "int32",
                        "nullable": true,
                        "type": "integer"
                    },
                    "start_date": {
                        "example": "2025-10-01T09:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "status": {
                        "nullable": true,
                        "type": "string"
                    },
                    "title": {
                        "nullable": true,
                        "type": "string"
                    }
                },
                "required": [
                    "id"
                ],
                "type": "object"
            },
            "TaskCreateRequest": {
                "properties": {
                    "assignee": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "due_date": {
                        "example": "2025-10-10T10:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "end_date": {
                        "example": "2025-10-15T17:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "parent_id": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "example": 0,
                        "format": "int32",
                        "nullable": true,
                        "type": "integer"
                    },
                    "start_date": {
                        "example": "2025-10-01T09:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "status": {
                        "example": "pending",
                        "nullable": true,
                        "type": "string"
                    },
                    "title": {
                        "example": "Define launch checklist",
                        "type": "string"
                    }
                },
                "required": [
                    "title"
                ],
                "type": "object"
            },
            "TaskDependency": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "source_task_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "target_task_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "type_": {
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "source_task_id",
                    "target_task_id",
                    "type_",
                    "created_at"
                ],
                "type": "object"
            },
            "TaskUpdateRequest": {
                "properties": {
                    "assignee": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "due_date": {
                        "example": "2025-11-01T10:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "end_date": {
                        "example": "2025-10-15T17:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "parent_id": {
                        "format": "uuid",
                        "nullable": true,
                        "type": "string"
                    },
                    "progress": {
                        "format": "int32",
                        "nullable": true,
                        "type": "integer"
                    },
                    "start_date": {
                        "example": "2025-10-01T09:00:00Z",
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "status": {
                        "nullable": true,
                        "type": "string"
                    },
                    "title": {
                        "nullable": true,
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "UpdateUserRequest": {
                "properties": {
                    "email": {
                        "example": "updated@example.com",
                        "nullable": true,
                        "type": "string"
                    },
                    "name": {
                        "example": "Updated Name",
                        "nullable": true,
                        "type": "string"
                    },
                    "password": {
                        "example": "NewP@ssword456",
                        "nullable": true,
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "User": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "deleted_at": {
                        "format": "date-time",
                        "nullable": true,
                        "type": "string"
                    },
                    "email": {
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    },
                    "provider_id": {
                        "nullable": true,
                        "type": "string"
                    },
                    "updated_at": {
                        "format": "date-time",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "name",
                    "email",
                    "provider",
                    "created_at",
                    "updated_at"
                ],
                "type": "object"
            },
            "UserPermission": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "permission_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "scope": {
                        "description": "Scope as JSON for resource-level permissions",
                        "type": "object"
                    },
                    "user_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "id",
                    "user_id",
                    "permission_id",
                    "created_at"
                ],
                "type": "object"
            },
            "UserRole": {
                "properties": {
                    "created_at": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "role_id": {
                        "format": "uuid",
                        "type": "string"
                    },
                    "user_id": {
                        "format": "uuid",
                        "type": "string"
                    }
                },
                "required": [
                    "user_id",
                    "role_id",
                    "created_at"
                ],
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "bearerFormat": "JWT",
                "scheme": "bearer",
                "type": "http"
            }
        }
    },
    "info": {
        "contact": {
            "name": "s-curve team"
        },
        "description": "",
        "license": {
            "name": ""
        },
        "title": "s-curve",
        "version": "0.1.0"
    },
    "openapi": "3.0.3",
    "paths": {
        "/api/health": {
            "get": {
                "operationId": "health",
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HealthResponse"
                                }
                            }
                        },
                        "description": "Health check"
                    }
                },
                "tags": [
                    "Health"
                ]
            }
        },
        "/auth/forgot-password": {
            "post": {
                "description": "Generates a password reset token and returns it. In production, this should send an email.",
                "operationId": "forgot_password",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "email": "user@example.com"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/ForgotPasswordRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "message": "Operation successful"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/MessageResponse"
                                }
                            }
                        },
                        "description": "Reset token generated (for dev; in prod would send email)"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "summary": "Request password reset",
                "tags": [
                    "Auth"
                ]
            }
        },
        "/auth/login": {
            "post": {
                "operationId": "login",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "email": "user@example.com",
                                "password": "password123"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "token": "eyJhbGciOiJIUzI1Ni...",
                                    "user": {
                                        "email": "ada@eg.com",
                                        "id": "0000-0000...",
                                        "name": "Ada"
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/AuthResponse"
                                }
                            }
                        },
                        "description": "Login successful"
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                },
                "tags": [
                    "Auth"
                ]
            }
        },
        "/auth/logout": {
            "post": {
                "operationId": "logout",
                "responses": {
                    "200": {
                        "description": "Logout acknowledged"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Auth"
                ]
            }
        },
        "/auth/me": {
            "get": {
                "operationId": "me",
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        },
                        "description": "Current user"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Auth"
                ]
            }
        },
        "/auth/register": {
            "post": {
                "operationId": "register",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "email": "test@example.com",
                                "name": "Test User",
                                "password": "password123"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "token": "eyJhbGciOiJIUzI1Ni...",
                                    "user": {
                                        "email": "ada@eg.com",
                                        "id": "0000-0000...",
                                        "name": "Ada"
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/AuthResponse"
                                }
                            }
                        },
                        "description": "User registered"
                    },
                    "409": {
                        "description": "Email already in use"
                    }
                },
                "tags": [
                    "Auth"
                ]
            }
        },
        "/auth/reset-password": {
            "post": {
                "description": "Validates the reset token and sets a new password.",
                "operationId": "reset_password",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "new_password": "NewSecurePassword456!",
                                "token": "raw-token-from-email"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/ResetPasswordRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "message": "Operation successful"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/MessageResponse"
                                }
                            }
                        },
                        "description": "Password reset successful"
                    },
                    "400": {
                        "description": "Invalid or expired token"
                    }
                },
                "summary": "Reset password with token",
                "tags": [
                    "Auth"
                ]
            }
        },
        "/projects": {
            "get": {
                "operationId": "list_projects",
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": [
                                    {
                                        "id": "uuid",
                                        "name": "Launch Planning",
                                        "theme_color": "#3498db"
                                    }
                                ],
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Project"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List projects"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            },
            "post": {
                "operationId": "create_project",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "description": "Prepare milestones.",
                                "name": "Launch Planning",
                                "theme_color": "#3498db"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/ProjectCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "name": "Launch Planning",
                                    "theme_color": "#3498db"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Project"
                                }
                            }
                        },
                        "description": "Project created"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            }
        },
        "/projects/{id}": {
            "delete": {
                "operationId": "delete_project",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Project soft deleted"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            },
            "get": {
                "operationId": "get_project",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "name": "Launch Planning",
                                    "theme_color": "#3498db"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Project"
                                }
                            }
                        },
                        "description": "Project detail"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            },
            "put": {
                "operationId": "update_project",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProjectUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "name": "Launch Planning",
                                    "theme_color": "#3498db"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Project"
                                }
                            }
                        },
                        "description": "Project updated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            }
        },
        "/projects/{id}/critical-path": {
            "get": {
                "operationId": "get_project_critical_path",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CriticalPathResponse"
                                }
                            }
                        },
                        "description": "Critical path task ids"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            }
        },
        "/projects/{id}/dashboard": {
            "get": {
                "operationId": "get_project_dashboard",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DashboardResponse"
                                }
                            }
                        },
                        "description": "Project dashboard"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            }
        },
        "/projects/{id}/plan": {
            "delete": {
                "operationId": "clear_project_plan",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Project plan cleared"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            },
            "post": {
                "operationId": "update_project_plan",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "items": {
                                    "$ref": "#/components/schemas/ProjectPlanCreateRequest"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/ProjectPlanPoint"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "Project plan updated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Projects"
                ]
            }
        },
        "/projects/{project_id}/dependencies": {
            "get": {
                "operationId": "list_dependencies",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/TaskDependency"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List dependencies"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Dependencies"
                ]
            },
            "post": {
                "operationId": "create_dependency",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "source_task_id": "0000-...",
                                "target_task_id": "1111-...",
                                "type": "finish_to_start"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/DependencyCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskDependency"
                                }
                            }
                        },
                        "description": "Dependency created"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Dependencies"
                ]
            }
        },
        "/projects/{project_id}/dependencies/{id}": {
            "delete": {
                "operationId": "delete_dependency",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Dependency id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Dependency deleted"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Dependencies"
                ]
            }
        },
        "/projects/{project_id}/tasks": {
            "get": {
                "operationId": "list_tasks",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": [
                                    {
                                        "id": "uuid",
                                        "progress": 0,
                                        "status": "pending",
                                        "title": "Define checklist"
                                    }
                                ],
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Task"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List tasks"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            },
            "post": {
                "operationId": "create_task",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "status": "pending",
                                "title": "Define launch checklist"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/TaskCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "progress": 0,
                                    "status": "pending",
                                    "title": "Define checklist"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": "Task created"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            }
        },
        "/projects/{project_id}/tasks/batch": {
            "put": {
                "operationId": "batch_update_tasks",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "tasks": [
                                    {
                                        "id": "0000-...",
                                        "progress": 50,
                                        "status": "in_progress"
                                    }
                                ]
                            },
                            "schema": {
                                "$ref": "#/components/schemas/TaskBatchUpdatePayload"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": [
                                    {
                                        "id": "uuid",
                                        "progress": 0,
                                        "status": "pending",
                                        "title": "Define checklist"
                                    }
                                ],
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Task"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "Tasks updated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            }
        },
        "/projects/{project_id}/tasks/{id}": {
            "delete": {
                "operationId": "delete_task",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Task soft deleted"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            },
            "get": {
                "operationId": "get_task",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "progress": 0,
                                    "status": "pending",
                                    "title": "Define checklist"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": "Task detail"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            },
            "put": {
                "operationId": "update_task",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TaskUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "uuid",
                                    "progress": 0,
                                    "status": "pending",
                                    "title": "Define checklist"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": "Task updated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Tasks"
                ]
            }
        },
        "/projects/{project_id}/tasks/{task_id}/progress": {
            "get": {
                "operationId": "list_progress",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "task_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Progress"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List progress entries"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Progress"
                ]
            },
            "post": {
                "operationId": "create_progress",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "task_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "note": "Halfway there",
                                "progress": 50
                            },
                            "schema": {
                                "$ref": "#/components/schemas/ProgressCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Progress"
                                }
                            }
                        },
                        "description": "Progress created"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Progress"
                ]
            }
        },
        "/projects/{project_id}/tasks/{task_id}/progress/{id}": {
            "delete": {
                "operationId": "delete_progress",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "task_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Progress id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Progress soft deleted"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Progress"
                ]
            },
            "get": {
                "operationId": "get_progress",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "task_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Progress id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Progress"
                                }
                            }
                        },
                        "description": "Progress detail"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Progress"
                ]
            },
            "put": {
                "operationId": "update_progress",
                "parameters": [
                    {
                        "description": "Project id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "project_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Task id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "task_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Progress id",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProgressUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Progress"
                                }
                            }
                        },
                        "description": "Progress updated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "Progress"
                ]
            }
        },
        "/rbac/audit-logs": {
            "get": {
                "operationId": "list_audit_logs",
                "parameters": [
                    {
                        "description": "Page number (1-based)",
                        "in": "query",
                        "name": "page",
                        "required": false,
                        "schema": {
                            "format": "int64",
                            "type": "integer"
                        }
                    },
                    {
                        "description": "Items per page (max 100)",
                        "in": "query",
                        "name": "per_page",
                        "required": false,
                        "schema": {
                            "format": "int64",
                            "type": "integer"
                        }
                    },
                    {
                        "description": "Filter by action/event name (e.g., \"role.assign\")",
                        "in": "query",
                        "name": "action",
                        "required": false,
                        "schema": {
                            "nullable": true,
                            "type": "string"
                        }
                    },
                    {
                        "description": "Filter by target user ID (subject_id)",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "query",
                        "name": "user_id",
                        "required": false,
                        "schema": {
                            "format": "uuid",
                            "nullable": true,
                            "type": "string"
                        }
                    },
                    {
                        "description": "Filter by actor ID (who performed the action)",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "query",
                        "name": "actor_id",
                        "required": false,
                        "schema": {
                            "format": "uuid",
                            "nullable": true,
                            "type": "string"
                        }
                    },
                    {
                        "description": "Filter entries from this timestamp",
                        "in": "query",
                        "name": "from",
                        "required": false,
                        "schema": {
                            "format": "date-time",
                            "nullable": true,
                            "type": "string"
                        }
                    },
                    {
                        "description": "Filter entries until this timestamp",
                        "in": "query",
                        "name": "to",
                        "required": false,
                        "schema": {
                            "format": "date-time",
                            "nullable": true,
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedAuditLogs"
                                }
                            }
                        },
                        "description": "Paginated audit log entries",
                        "headers": {
                            "X-Total-Count": {
                                "description": "Total number of matching entries",
                                "schema": {
                                    "format": "int64",
                                    "type": "integer"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/permissions": {
            "get": {
                "operationId": "list_permissions",
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Permission"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List of permissions"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "List all permissions",
                "tags": [
                    "RBAC"
                ]
            },
            "post": {
                "operationId": "create_permission",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "description": "View projects",
                                "name": "project.view"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/PermissionCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Permission"
                                }
                            }
                        },
                        "description": "Permission created"
                    },
                    "409": {
                        "description": "Permission name already exists"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Create a new permission",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/roles": {
            "get": {
                "operationId": "list_roles",
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": [
                                    {
                                        "description": "Full access",
                                        "id": "uuid",
                                        "name": "super_admin"
                                    }
                                ],
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Role"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List of roles"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "List all roles",
                "tags": [
                    "RBAC"
                ]
            },
            "post": {
                "operationId": "create_role",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "description": "Can manage project tasks",
                                "name": "project_manager"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/RoleCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "description": "Full access",
                                    "id": "uuid",
                                    "name": "super_admin"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Role"
                                }
                            }
                        },
                        "description": "Role created"
                    },
                    "409": {
                        "description": "Role name already exists"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Create a new role",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/roles/{role_id}": {
            "delete": {
                "operationId": "delete_role",
                "parameters": [
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Role deleted"
                    },
                    "404": {
                        "description": "Role not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Delete a role",
                "tags": [
                    "RBAC"
                ]
            },
            "get": {
                "operationId": "get_role",
                "parameters": [
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "description": "Full access",
                                    "id": "uuid",
                                    "name": "super_admin"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/Role"
                                }
                            }
                        },
                        "description": "Role details"
                    },
                    "404": {
                        "description": "Role not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get a role by ID",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/roles/{role_id}/permissions": {
            "get": {
                "operationId": "get_role_permissions",
                "parameters": [
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Permission"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List of assigned permissions"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get permissions assigned to a role",
                "tags": [
                    "RBAC"
                ]
            },
            "post": {
                "operationId": "assign_permission_to_role",
                "parameters": [
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AssignPermissionToRoleRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Permission assigned"
                    },
                    "404": {
                        "description": "Role not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Assign a permission to a role",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/roles/{role_id}/permissions/{permission_id}": {
            "delete": {
                "operationId": "delete_permission_from_role",
                "parameters": [
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Permission ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "permission_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Permission removed from role"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Remove a permission from a role",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/users/{user_id}/effective-permissions": {
            "get": {
                "operationId": "get_effective_permissions",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "permissions": [
                                        {
                                            "name": "*",
                                            "role_name": "super_admin",
                                            "source": "role"
                                        }
                                    ],
                                    "roles": [
                                        "super_admin"
                                    ],
                                    "user_id": "uuid"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/EffectivePermissions"
                                }
                            }
                        },
                        "description": "Effective permissions"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get computed effective permissions for a user",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/users/{user_id}/permissions": {
            "get": {
                "operationId": "get_user_permissions",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/UserPermission"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List of direct permissions"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get direct permissions granted to a user",
                "tags": [
                    "RBAC"
                ]
            },
            "post": {
                "operationId": "grant_permission_to_user",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "permission_id": "00000000-0000-0000-0000-000000000000",
                                "scope": {
                                    "project_id": "00000000-0000-0000-0000-000000000000"
                                }
                            },
                            "schema": {
                                "$ref": "#/components/schemas/GrantPermissionRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Permission granted"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Grant a permission directly to a user",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/users/{user_id}/roles": {
            "get": {
                "operationId": "get_user_roles",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": [
                                    {
                                        "description": "Full access",
                                        "id": "uuid",
                                        "name": "super_admin"
                                    }
                                ],
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/Role"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List of assigned roles"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get roles assigned to a user",
                "tags": [
                    "RBAC"
                ]
            },
            "post": {
                "operationId": "assign_role_to_user",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "role_id": "00000000-0000-0000-0000-000000000000"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/AssignRoleRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Role assigned"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Assign a role to a user",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/rbac/users/{user_id}/roles/{role_id}": {
            "delete": {
                "operationId": "revoke_role_from_user",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "user_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Role ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "role_id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Role revoked"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Revoke a role from a user",
                "tags": [
                    "RBAC"
                ]
            }
        },
        "/users": {
            "get": {
                "description": "Returns a paginated list of users, optionally filtered by name or email.\nAccessible only to admins or users with `user.view` permission.",
                "operationId": "list_users",
                "parameters": [
                    {
                        "description": "Optional search query (name or email)",
                        "in": "query",
                        "name": "q",
                        "required": false,
                        "schema": {
                            "nullable": true,
                            "type": "string"
                        }
                    },
                    {
                        "description": "Page number (1-based, default 1)",
                        "in": "query",
                        "name": "page",
                        "required": false,
                        "schema": {
                            "format": "int32",
                            "minimum": 0,
                            "nullable": true,
                            "type": "integer"
                        }
                    },
                    {
                        "description": "Items per page (default 25, max 100)",
                        "in": "query",
                        "name": "per_page",
                        "required": false,
                        "schema": {
                            "format": "int32",
                            "minimum": 0,
                            "nullable": true,
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "$ref": "#/components/schemas/User"
                                    },
                                    "type": "array"
                                }
                            }
                        },
                        "description": "List users",
                        "headers": {
                            "X-Total-Count": {
                                "description": "Total number of users matching the query",
                                "schema": {
                                    "format": "int64",
                                    "type": "integer"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "List users (admin)",
                "tags": [
                    "Users"
                ]
            },
            "post": {
                "description": "Creates a new user with password hash. Requires `user.manage` permission.",
                "operationId": "create_user",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "email": "dev1@example.com",
                                "name": "Developer One",
                                "password": "SecurePassword123!"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/CreateUserRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        },
                        "description": "User created"
                    },
                    "409": {
                        "description": "Email already in use"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Create a new user (admin)",
                "tags": [
                    "Users"
                ]
            }
        },
        "/users/{id}": {
            "delete": {
                "description": "Soft-deletes a user by setting deleted_at. Requires `user.manage` permission.",
                "operationId": "delete_user",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "message": "User deleted"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/DeletedResponse"
                                }
                            }
                        },
                        "description": "User deleted"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Delete a user (admin)",
                "tags": [
                    "Users"
                ]
            },
            "put": {
                "description": "Updates user details. Requires `user.manage` permission.",
                "operationId": "update_user",
                "parameters": [
                    {
                        "description": "User ID",
                        "example": "00000000-0000-0000-0000-000000000000",
                        "in": "path",
                        "name": "id",
                        "required": true,
                        "schema": {
                            "format": "uuid",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "email": "dev2@example.com",
                                "name": "Developer Two"
                            },
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        },
                        "description": "User updated"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Update a user (admin)",
                "tags": [
                    "Users"
                ]
            }
        }
    },
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "servers": [
        {
            "url": "https://localhost:8800"
        },
        {
            "url": "https://rust-service:8800"
        }
    ],
    "tags": [
        {
            "description": "Authentication endpoints",
            "name": "Auth"
        },
        {
            "description": "Project management",
            "name": "Projects"
        },
        {
            "description": "Task management",
            "name": "Tasks"
        },
        {
            "description": "Task progress entries",
            "name": "Progress"
        },
        {
            "description": "Role-Based Access Control",
            "name": "RBAC"
        },
        {
            "description": "User management",
            "name": "Users"
        }
    ]
}
